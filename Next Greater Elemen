Question dekh ke kaise samjhe ki Monotonic Stack/Queue use karna hai?
ðŸ‘‰ Agar question me kuch aisa likha ho:
â€œNext Greater / Smaller element find karo.â€
â€œPrevious Greater / Smaller element find karo.â€
â€œRange ke maximum/minimum chahiye.â€
â€œSpan / distance chahiye based on greater or smaller element.â€
â€œHistogram / Rectangle jisme left aur right bound nikala jata hai.â€
Toh 99% chance hai ki Monotonic Stack/Queue lagega.
Keyword pehchan: "Next/Previous + Greater/Smaller", "Span", "Max/Min in range".

ðŸ”¹ Step 2: Monotonic Stack ka funda
Stack ko hamesha increasing ya decreasing order me maintain karna hota hai.
Agar mujhe "Next Greater" chahiye â†’ to mai decreasing stack banaunga (upar bada element rakhenge).
Agar mujhe "Next Smaller" chahiye â†’ to mai increasing stack banaunga.
Idea ye hai ki unnecessary elements ko stack se nikal do jab tak required order break ho raha hai.

ðŸ”¹ Step 3: Example 1 â€“ Next Greater Element (NGE)
Problem (LeetCode 496 - Next Greater Element I):
Aapko ek array diya hai, har element ke liye uske right side ka pehla bada element nikalna hai. Agar exist nahi karta toh -1.
Input:
nums = [2, 1, 2, 4, 3]

Output:
[4, 2, 4, -1, -1]
Step by Step Dry Run
Array: [2, 1, 2, 4, 3]
Hum stack ko maintain karenge (monotonic decreasing stack â†’ top pe hamesha chhota element hoga).
Start from right side (kyunki hume "Next" chahiye).

i = 4 â†’ nums[4] = 3
Stack = []
Next greater nahi â†’ ans[4] = -1
Push 3 â†’ Stack = [3]

i = 3 â†’ nums[3] = 4
Stack = [3] â†’ 4 bada hai, toh pop karo 3
Ab stack empty â†’ ans[3] = -1
Push 4 â†’ Stack = [4]

i = 2 â†’ nums[2] = 2
Stack = [4]
Top = 4 > 2 â†’ ans[2] = 4
Push 2 â†’ Stack = [4,2]

i = 1 â†’ nums[1] = 1
Stack = [4,2]
Top = 2 > 1 â†’ ans[1] = 2
Push 1 â†’ Stack = [4,2,1]

i = 0 â†’ nums[0] = 2
Stack = [4,2,1]
Top = 1 < 2 â†’ pop 1
Top = 2 == 2 â†’ pop 2
Top = 4 > 2 â†’ ans[0] = 4
Push 2 â†’ Stack = [4,2]
Final Answer: [4, 2, 4, -1, -1]

ðŸ”¹ Algorithm
Ek empty stack lo.
Right se traverse karo.
Jab tak stack top â‰¤ current element, pop karo.
Agar stack empty â†’ ans[i] = -1 else ans[i] = stack.top().
Current element ko stack me push karo.

#include<stack>
#include<vector>
vector<int> nextGreaterElement(vector<int>& arr, int n)
{
	vector<int>ans(n, -1);
    stack<int>st;

    for(int i=n-1; i>=0; i--){
        while(!st.empty() && st.top() <= arr[i]){
            st.pop();
        }
        if(!st.empty()){
            ans[i]= st.top();
        }
        st.push(arr[i]);
    }
    return ans;
}
