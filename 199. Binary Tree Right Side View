FULL DRY RUN (variables traced)
Initial:
ans = []
q = []
push root:
q = [1]

ITERATION 1 (processing level 0)
while(!q.empty()) → true
n = q.size() = 1
lastNode = NULL
for loop i=0..0 (one iteration):
i=0:
temp = q.front() = 1
q.pop() → q = []
lastNode = temp → lastNode = node(1)
if(temp->left) q.push(2) → q = [2]
if(temp->right) q.push(3) → q = [2, 3]
end for
ans.push_back(lastNode->val) → push 1
ans = [1]
Queue at end of iteration1: [2, 3]

ITERATION 2 (processing level 1)
n = q.size() = 2 (nodes: 2, 3)
lastNode = NULL
for loop i=0..1:
i=0:
temp = q.front() = 2
q.pop() → q = [3]
lastNode = 2
if(temp->left) q.push(...) → (2 has no left) nothing
if(temp->right) q.push(5) → q = [3, 5]
i=1:
temp = q.front() = 3
q.pop() → q = [5]
lastNode = 3 ← overwrites previous lastNode
if(temp->left) ... → none
if(temp->right) q.push(4) → q = [5, 4]
end for
ans.push_back(lastNode->val) → push 3
ans = [1, 3]
Queue at end of iteration2: [5, 4]
Note: lastNode became 3, so level-1 rightmost is 3 — as expected.

ITERATION 3 (processing level 2)
n = q.size() = 2 (nodes: 5, 4)
lastNode = NULL
for loop i=0..1:
i=0:
temp = q.front() = 5
q.pop() → q = [4]
lastNode = 5
if(temp->left) ... → none
if(temp->right) ... → none
i=1:
temp = q.front() = 4
q.pop() → q = []
lastNode = 4 ← overwrites previous lastNode
children none
end for
ans.push_back(lastNode->val) → push 4
ans = [1, 3, 4]
Queue at end: [] → while loop ends.
Final returned ans = [1, 3, 4] — matches expected right-side view.

Time Complexity: O(N)
Space Complexity: O(W)

class Solution {
public:
    vector<int> rightSideView(TreeNode* root) {
        vector<int> ans;
        if(root == NULL) return ans;

        queue<TreeNode*> q;
        q.push(root);

        while(!q.empty()) {
            int n = q.size();

            TreeNode* lastNode = NULL;

            for(int i = 0; i < n; i++) {
                TreeNode* temp = q.front();
                q.pop();

                lastNode = temp; // last node of this level

                if(temp->left) q.push(temp->left);
                if(temp->right) q.push(temp->right);
            }
            ans.push_back(lastNode->val);
        }
        return ans;
    }
};
